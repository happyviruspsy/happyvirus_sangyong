(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{57:function(e,t,n){e.exports=n(78)},62:function(e,t,n){},64:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(62),n(32)),s=n.n(c),l=n(39),d=n(46),m=n(29),u=n(52),E=n(47),p=n(51),v=n(48),g=(n(64),{getAddress:function(){return new Promise(function(e){window.addEventListener("ICONEX_RELAY_RESPONSE",function t(n){var a=n.detail,r=a.type,o=a.payload;"RESPONSE_ADDRESS"===r&&e(o),window.removeEventListener("ICONEX_RELAY_RESPONSE",t)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_ADDRESS"}}))})},sendTransaction:function(e){return new Promise(function(t){window.addEventListener("ICONEX_RELAY_RESPONSE",function e(n){var a=n.detail,r=a.type,o=a.payload;"RESPONSE_JSON-RPC"===r&&t(o.result),window.removeEventListener("ICONEX_RELAY_RESPONSE",e)}),window.dispatchEvent(new CustomEvent("ICONEX_RELAY_REQUEST",{detail:{type:"REQUEST_JSON-RPC",payload:e}}))})}}),h=n(17),w=n.n(h),f=new h.HttpProvider(window.PROVIDER_URL),x=new w.a(f),S=h.IconBuilder.CallBuilder,N=h.IconBuilder.CallTransactionBuilder,R=h.IconBuilder.IcxTransactionBuilder,C={iconService:x,callBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.methodName,a=e.to,r=e.params,o=void 0===r?{}:r;return(new S).from(t).to(a).method(n).params(o).build()},sendTxBuild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,a=e.methodName,r=e.params,o=void 0===r?{}:r,i=e.networkId,c=void 0===i?window.NID:i,s=e.stepLimit,l=void 0===s?"0x493e0":s,d=e.value,m=void 0===d?"0x0":d;return{jsonrpc:"2.0",method:"icx_sendTransaction",params:(new N).nid(c).from(t).to(n).stepLimit(l).value(m).timestamp("0x".concat((1e3*(new Date).getTime()).toString(16))).method(a).params(o).version("0x3").build(),id:1}},sendTxBuild2:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.from,n=e.to,a=e.networkId,r=void 0===a?window.NID:a,o=e.stepLimit,i=void 0===o?"0x493e0":o,c=e.value,s=void 0===c?"0x0":c;return{jsonrpc:"2.0",method:"icx_sendTransaction",params:(new R).nid(r).from(t).to(n).stepLimit(i).value(s).timestamp("0x".concat((1e3*(new Date).getTime()).toString(16))).version("0x3").build(),id:1}}},O=n(112),b=n(120),_=n(113),y=n(114),T=n(118),A=n(116),L=n(115),I=n(117),B=n(119),D=Object(b.a)(function(e){return{root:{background:function(e){return"red"===e.color?"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)":"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},border:0,borderRadius:3,boxShadow:function(e){return"red"===e.color?"0 3px 5px 2px rgba(255, 105, 135, .3)":"0 3px 5px 2px rgba(33, 203, 243, .3)"},color:"white",height:48,padding:"0 30px",margin:8},card:{maxWidth:345},media:{height:140}}});function k(e){e.color;var t=Object(v.a)(e,["color"]),n=D(e);return r.a.createElement(O.a,Object.assign({className:n.root},t))}function j(e){for(var t="",n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}var P=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={login:!1,txevent:!1,curmsg:"",myAddress:"",msg:""},n.funcLogin=function(){var e=Object(l.a)(s.a.mark(function e(t){var a,r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAddress();case 2:return a=e.sent,n.setState({login:!0,myAddress:a}),e.next=6,C.iconService.call(C.callBuild({from:n.state.myAddress,methodName:"read_happy_virus",params:{},to:window.CONTRACT_ADDRESS})).execute();case 6:r=e.sent,o=j(r),console.log(r,o),n.setState({msg:o});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.funcUpdate=function(e){n.setState({curmsg:e.target.value})},n.funcTx=Object(l.a)(s.a.mark(function e(){var t,a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.sendTxBuild,a=t({from:n.state.myAddress,to:window.CONTRACT_ADDRESS,methodName:"put_happy_virus",params:{msg:h.IconConverter.fromUtf8(n.state.curmsg)}}),console.log(h.IconConverter.fromUtf8(n.state.curmsg)),e.next=5,g.sendTransaction(a);case 5:(r=e.sent)&&alert("\uc804\uc1a1\ud558\uc2e0 <"+n.state.curmsg+"> \uba54\uc138\uc9c0\uac00 \ub2e4\uc74c \uc0ac\ub78c\uc5d0\uac8c \uc804\ub2ec\ub429\ub2c8\ub2e4. XD "),console.log("tx",r,typeof r);case 8:case"end":return e.stop()}},e)})),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,r.a.createElement("a",{href:"/"},"Love, Love, Love")),this.state.login?r.a.createElement(r.a.Fragment,null,this.state.txevent?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:D.card,style:{backgroundColor:"mediumslateblue"}},r.a.createElement(y.a,null,r.a.createElement(L.a,{className:D.media,title:"Contemplative Reptile"}),r.a.createElement(A.a,null,r.a.createElement(I.a,{gutterBottom:!0,variant:"h3",component:"h2"},r.a.createElement("h2",null,r.a.createElement("a",null,this.state.msg))))),r.a.createElement(T.a,null,r.a.createElement(B.a,{style:{width:600},id:"outlined-name",label:"Love Msg To Next",className:D.textField,value:this.state.curmsg,onChange:this.funcUpdate,margin:"normal",variant:"outlined"}),r.a.createElement(k,{onClick:this.funcTx,color:"red",style:{height:62,marginTop:15,width:150}},"Send"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{color:"red",onClick:this.funcLogin},"\uc9c0\uac11 \uc5f0\ub3d9")))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[57,1,2]]]);
//# sourceMappingURL=main.82f6ec3a.chunk.js.map